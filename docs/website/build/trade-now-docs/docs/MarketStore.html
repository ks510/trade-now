<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>MarketStore · TradeNow</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;div class=&quot;contract-doc&quot;&gt;&lt;div class=&quot;contract&quot;&gt;&lt;h2 class=&quot;contract-header&quot;&gt;&lt;span class=&quot;contract-kind&quot;&gt;contract&lt;/span&gt; MarketStore&lt;/h2&gt;&lt;p class=&quot;description&quot;&gt;Stores and manages the state of all listings in the marketplace. This is a low level storage contract that provides getters and setters for creating, accessing and modifying listings. Currently, a reference is stored for fetching the listing image from a distributed database due to the expensive cost of storing large data on the blockchain. For optimisation reasons, business logic should be implemented in the client application.&lt;/p&gt;&lt;div class=&quot;source&quot;&gt;Source: &lt;a href=&quot;https://github.com/ks510/trade-now/blob/v1.0.0/contracts/MarketStore.sol&quot; target=&quot;_blank&quot;&gt;contracts/MarketStore.sol&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;author&quot;&gt;Author: Karen Suen&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;index&quot;&gt;&lt;h2&gt;Index&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#createListingInStore&quot;&gt;createListingInStore&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#disableListing&quot;&gt;disableListing&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#&quot;&gt;fallback&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#getAllSellerListings&quot;&gt;getAllSellerListings&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#getListing&quot;&gt;getListing&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#getListingDescription&quot;&gt;getListingDescription&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#getListingImage&quot;&gt;getListingImage&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#getListingPrice&quot;&gt;getListingPrice&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#getListingSeller&quot;&gt;getListingSeller&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#getListingState&quot;&gt;getListingState&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#getListingTitle&quot;&gt;getListingTitle&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#listingAvailable&quot;&gt;listingAvailable&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#listingSold&quot;&gt;listingSold&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;reference&quot;&gt;&lt;h2&gt;Reference&lt;/h2&gt;&lt;div class=&quot;functions&quot;&gt;&lt;h3&gt;Functions&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;createListingInStore&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;createListingInStore&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;createListingInStore&lt;/strong&gt;&lt;span&gt;(uint _price, string _title, string _desc, string _image, address _seller) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Create a new listing in the marketplace and returns its generated id. Indexing of listings always starts at 1. The unique ID of each listing is auto generated using the incremented total listing count. The list of seller&amp;#x27;s owned listings are also updated.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_price&lt;/code&gt; - The selling price of the new listing in Wei&lt;/div&gt;&lt;div&gt;&lt;code&gt;_title&lt;/code&gt; - The title of the new listing&lt;/div&gt;&lt;div&gt;&lt;code&gt;_desc&lt;/code&gt; - The reference hash of listing description stored in a distributed database&lt;/div&gt;&lt;div&gt;&lt;code&gt;_image&lt;/code&gt; - The reference hash of listing image stored in a distributed database&lt;/div&gt;&lt;div&gt;&lt;code&gt;_seller&lt;/code&gt; - The seller address that created this listing (owner)&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;Generated id of listing in the marketplace&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;disableListing&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;disableListing&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;disableListing&lt;/strong&gt;&lt;span&gt;(uint _id) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Disable the given listing by updating its status to INACTIVE.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_id&lt;/code&gt; - The id of listing to disable&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;fallback&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;fallback&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Constructor initialises marketplace with no listings.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getAllSellerListings&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getAllSellerListings&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getAllSellerListings&lt;/strong&gt;&lt;span&gt;(address _seller) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint[]) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns a list of all listing id&amp;#x27;s created by an address (user).&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_seller&lt;/code&gt; - The address to retrieve all listing ids for&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;A list of listing ids&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getListing&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getListing&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getListing&lt;/strong&gt;&lt;span&gt;(uint _id) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint, uint, string, string, string, address, uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;The listing state enum value is returned as an integer, Returns all information about a listing in the marketplace as a tuple.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_id&lt;/code&gt; - The id of listing to return&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;Listing id, price in Wei, title, description, image reference, seller address&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getListingDescription&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getListingDescription&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getListingDescription&lt;/strong&gt;&lt;span&gt;(uint _id) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (string) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the description reference of a given listing.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_id&lt;/code&gt; - The id of listing to retrieve the description of&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;Listing description&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getListingImage&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getListingImage&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getListingImage&lt;/strong&gt;&lt;span&gt;(uint _id) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (string) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the image reference of a given listing.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_id&lt;/code&gt; - The id of listing to retrieve the image reference of&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;Image reference&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getListingPrice&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getListingPrice&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getListingPrice&lt;/strong&gt;&lt;span&gt;(uint _id) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the selling price of a given listing in Wei (smallest denomination of Ether).&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_id&lt;/code&gt; - The id of listing to retrieve selling price of&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;Listing price in Wei&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getListingSeller&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getListingSeller&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getListingSeller&lt;/strong&gt;&lt;span&gt;(uint _id) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (address) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the seller of the listing.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_id&lt;/code&gt; - The id of listing to retrieve the state of&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;Seller address&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getListingState&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getListingState&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getListingState&lt;/strong&gt;&lt;span&gt;(uint _id) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the current state of a listing as an integer.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_id&lt;/code&gt; - The id of listing to retrieve the state of&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;Listing status&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getListingTitle&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getListingTitle&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getListingTitle&lt;/strong&gt;&lt;span&gt;(uint _id) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (string) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the title of a given listing.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_id&lt;/code&gt; - The id of listing to retrieve title of&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;Listing title&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;listingAvailable&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;listingAvailable&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;listingAvailable&lt;/strong&gt;&lt;span&gt;(uint _id) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Updates the given listing to AVAILABLE status.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_id&lt;/code&gt; - The id of listing to make available in marketplace&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;listingSold&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;listingSold&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;listingSold&lt;/strong&gt;&lt;span&gt;(uint _id) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Updates the given listing to SOLD status.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_id&lt;/code&gt; - The id of sold listing&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="MarketStore · TradeNow"/><meta property="og:type" content="website"/><meta property="og:url" content="https://ks510.github.io/trade-now-docs/"/><meta property="og:description" content="&lt;div class=&quot;contract-doc&quot;&gt;&lt;div class=&quot;contract&quot;&gt;&lt;h2 class=&quot;contract-header&quot;&gt;&lt;span class=&quot;contract-kind&quot;&gt;contract&lt;/span&gt; MarketStore&lt;/h2&gt;&lt;p class=&quot;description&quot;&gt;Stores and manages the state of all listings in the marketplace. This is a low level storage contract that provides getters and setters for creating, accessing and modifying listings. Currently, a reference is stored for fetching the listing image from a distributed database due to the expensive cost of storing large data on the blockchain. For optimisation reasons, business logic should be implemented in the client application.&lt;/p&gt;&lt;div class=&quot;source&quot;&gt;Source: &lt;a href=&quot;https://github.com/ks510/trade-now/blob/v1.0.0/contracts/MarketStore.sol&quot; target=&quot;_blank&quot;&gt;contracts/MarketStore.sol&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;author&quot;&gt;Author: Karen Suen&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;index&quot;&gt;&lt;h2&gt;Index&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#createListingInStore&quot;&gt;createListingInStore&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#disableListing&quot;&gt;disableListing&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#&quot;&gt;fallback&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#getAllSellerListings&quot;&gt;getAllSellerListings&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#getListing&quot;&gt;getListing&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#getListingDescription&quot;&gt;getListingDescription&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#getListingImage&quot;&gt;getListingImage&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#getListingPrice&quot;&gt;getListingPrice&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#getListingSeller&quot;&gt;getListingSeller&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#getListingState&quot;&gt;getListingState&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#getListingTitle&quot;&gt;getListingTitle&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#listingAvailable&quot;&gt;listingAvailable&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;MarketStore.html#listingSold&quot;&gt;listingSold&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;reference&quot;&gt;&lt;h2&gt;Reference&lt;/h2&gt;&lt;div class=&quot;functions&quot;&gt;&lt;h3&gt;Functions&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;createListingInStore&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;createListingInStore&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;createListingInStore&lt;/strong&gt;&lt;span&gt;(uint _price, string _title, string _desc, string _image, address _seller) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Create a new listing in the marketplace and returns its generated id. Indexing of listings always starts at 1. The unique ID of each listing is auto generated using the incremented total listing count. The list of seller&amp;#x27;s owned listings are also updated.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_price&lt;/code&gt; - The selling price of the new listing in Wei&lt;/div&gt;&lt;div&gt;&lt;code&gt;_title&lt;/code&gt; - The title of the new listing&lt;/div&gt;&lt;div&gt;&lt;code&gt;_desc&lt;/code&gt; - The reference hash of listing description stored in a distributed database&lt;/div&gt;&lt;div&gt;&lt;code&gt;_image&lt;/code&gt; - The reference hash of listing image stored in a distributed database&lt;/div&gt;&lt;div&gt;&lt;code&gt;_seller&lt;/code&gt; - The seller address that created this listing (owner)&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;Generated id of listing in the marketplace&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;disableListing&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;disableListing&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;disableListing&lt;/strong&gt;&lt;span&gt;(uint _id) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Disable the given listing by updating its status to INACTIVE.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_id&lt;/code&gt; - The id of listing to disable&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;fallback&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;fallback&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Constructor initialises marketplace with no listings.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getAllSellerListings&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getAllSellerListings&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getAllSellerListings&lt;/strong&gt;&lt;span&gt;(address _seller) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint[]) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns a list of all listing id&amp;#x27;s created by an address (user).&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_seller&lt;/code&gt; - The address to retrieve all listing ids for&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;A list of listing ids&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getListing&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getListing&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getListing&lt;/strong&gt;&lt;span&gt;(uint _id) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint, uint, string, string, string, address, uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;The listing state enum value is returned as an integer, Returns all information about a listing in the marketplace as a tuple.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_id&lt;/code&gt; - The id of listing to return&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;Listing id, price in Wei, title, description, image reference, seller address&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getListingDescription&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getListingDescription&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getListingDescription&lt;/strong&gt;&lt;span&gt;(uint _id) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (string) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the description reference of a given listing.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_id&lt;/code&gt; - The id of listing to retrieve the description of&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;Listing description&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getListingImage&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getListingImage&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getListingImage&lt;/strong&gt;&lt;span&gt;(uint _id) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (string) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the image reference of a given listing.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_id&lt;/code&gt; - The id of listing to retrieve the image reference of&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;Image reference&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getListingPrice&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getListingPrice&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getListingPrice&lt;/strong&gt;&lt;span&gt;(uint _id) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the selling price of a given listing in Wei (smallest denomination of Ether).&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_id&lt;/code&gt; - The id of listing to retrieve selling price of&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;Listing price in Wei&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getListingSeller&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getListingSeller&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getListingSeller&lt;/strong&gt;&lt;span&gt;(uint _id) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (address) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the seller of the listing.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_id&lt;/code&gt; - The id of listing to retrieve the state of&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;Seller address&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getListingState&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getListingState&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getListingState&lt;/strong&gt;&lt;span&gt;(uint _id) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the current state of a listing as an integer.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_id&lt;/code&gt; - The id of listing to retrieve the state of&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;Listing status&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getListingTitle&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getListingTitle&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getListingTitle&lt;/strong&gt;&lt;span&gt;(uint _id) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (string) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the title of a given listing.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_id&lt;/code&gt; - The id of listing to retrieve title of&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;Listing title&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;listingAvailable&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;listingAvailable&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;listingAvailable&lt;/strong&gt;&lt;span&gt;(uint _id) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Updates the given listing to AVAILABLE status.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_id&lt;/code&gt; - The id of listing to make available in marketplace&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;listingSold&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;listingSold&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;listingSold&lt;/strong&gt;&lt;span&gt;(uint _id) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Updates the given listing to SOLD status.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_id&lt;/code&gt; - The id of sold listing&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/trade-now-docs/"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="stylesheet" href="/trade-now-docs/css/main.css"/><script src="/trade-now-docs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/trade-now-docs/"><h2 class="headerTitle">TradeNow</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/" target="_self">1.0.0</a></li><li class="siteNavGroupActive"><a href="/trade-now-docs/docs/Market" target="_self">API</a></li><li class=""><a href="/trade-now-docs/help" target="_self">Help</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Storage Contracts</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Proxy Contract</h3><ul class=""><li class="navListItem"><a class="navItem" href="/trade-now-docs/docs/Market">Market</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Storage Contracts</h3><ul class=""><li class="navListItem"><a class="navItem" href="/trade-now-docs/docs/Escrow">Escrow</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/trade-now-docs/docs/MarketStore">MarketStore</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">MarketStore</h1></header><article><div><span><div class="contract-doc"><div class="contract"><h2 class="contract-header"><span class="contract-kind">contract</span> MarketStore</h2><p class="description">Stores and manages the state of all listings in the marketplace. This is a low level storage contract that provides getters and setters for creating, accessing and modifying listings. Currently, a reference is stored for fetching the listing image from a distributed database due to the expensive cost of storing large data on the blockchain. For optimisation reasons, business logic should be implemented in the client application.</p><div class="source">Source: <a href="https://github.com/ks510/trade-now/blob/v1.0.0/contracts/MarketStore.sol" target="_blank">contracts/MarketStore.sol</a></div><div class="author">Author: Karen Suen</div></div><div class="index"><h2>Index</h2><ul><li><a href="MarketStore.html#createListingInStore">createListingInStore</a></li><li><a href="MarketStore.html#disableListing">disableListing</a></li><li><a href="MarketStore.html#">fallback</a></li><li><a href="MarketStore.html#getAllSellerListings">getAllSellerListings</a></li><li><a href="MarketStore.html#getListing">getListing</a></li><li><a href="MarketStore.html#getListingDescription">getListingDescription</a></li><li><a href="MarketStore.html#getListingImage">getListingImage</a></li><li><a href="MarketStore.html#getListingPrice">getListingPrice</a></li><li><a href="MarketStore.html#getListingSeller">getListingSeller</a></li><li><a href="MarketStore.html#getListingState">getListingState</a></li><li><a href="MarketStore.html#getListingTitle">getListingTitle</a></li><li><a href="MarketStore.html#listingAvailable">listingAvailable</a></li><li><a href="MarketStore.html#listingSold">listingSold</a></li></ul></div><div class="reference"><h2>Reference</h2><div class="functions"><h3>Functions</h3><ul><li><div class="item function"><span id="createListingInStore" class="anchor-marker"></span><h4 class="name">createListingInStore</h4><div class="body"><code class="signature">function <strong>createListingInStore</strong><span>(uint _price, string _title, string _desc, string _image, address _seller) </span><span>public </span><span>returns  (uint) </span></code><hr/><div class="description"><p>Create a new listing in the marketplace and returns its generated id. Indexing of listings always starts at 1. The unique ID of each listing is auto generated using the incremented total listing count. The list of seller&#x27;s owned listings are also updated.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_price</code> - The selling price of the new listing in Wei</div><div><code>_title</code> - The title of the new listing</div><div><code>_desc</code> - The reference hash of listing description stored in a distributed database</div><div><code>_image</code> - The reference hash of listing image stored in a distributed database</div><div><code>_seller</code> - The seller address that created this listing (owner)</div></dd><dt><span class="label-return">Returns:</span></dt><dd>Generated id of listing in the marketplace</dd></dl></div></div></li><li><div class="item function"><span id="disableListing" class="anchor-marker"></span><h4 class="name">disableListing</h4><div class="body"><code class="signature">function <strong>disableListing</strong><span>(uint _id) </span><span>public </span></code><hr/><div class="description"><p>Disable the given listing by updating its status to INACTIVE.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_id</code> - The id of listing to disable</div></dd></dl></div></div></li><li><div class="item function"><span id="fallback" class="anchor-marker"></span><h4 class="name">fallback</h4><div class="body"><code class="signature">function <strong></strong><span>() </span><span>public </span></code><hr/><div class="description"><p>Constructor initialises marketplace with no listings.</p></div></div></div></li><li><div class="item function"><span id="getAllSellerListings" class="anchor-marker"></span><h4 class="name">getAllSellerListings</h4><div class="body"><code class="signature">function <strong>getAllSellerListings</strong><span>(address _seller) </span><span>public </span><span>view </span><span>returns  (uint[]) </span></code><hr/><div class="description"><p>Returns a list of all listing id&#x27;s created by an address (user).</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_seller</code> - The address to retrieve all listing ids for</div></dd><dt><span class="label-return">Returns:</span></dt><dd>A list of listing ids</dd></dl></div></div></li><li><div class="item function"><span id="getListing" class="anchor-marker"></span><h4 class="name">getListing</h4><div class="body"><code class="signature">function <strong>getListing</strong><span>(uint _id) </span><span>public </span><span>view </span><span>returns  (uint, uint, string, string, string, address, uint) </span></code><hr/><div class="description"><p>The listing state enum value is returned as an integer, Returns all information about a listing in the marketplace as a tuple.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_id</code> - The id of listing to return</div></dd><dt><span class="label-return">Returns:</span></dt><dd>Listing id, price in Wei, title, description, image reference, seller address</dd></dl></div></div></li><li><div class="item function"><span id="getListingDescription" class="anchor-marker"></span><h4 class="name">getListingDescription</h4><div class="body"><code class="signature">function <strong>getListingDescription</strong><span>(uint _id) </span><span>public </span><span>view </span><span>returns  (string) </span></code><hr/><div class="description"><p>Returns the description reference of a given listing.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_id</code> - The id of listing to retrieve the description of</div></dd><dt><span class="label-return">Returns:</span></dt><dd>Listing description</dd></dl></div></div></li><li><div class="item function"><span id="getListingImage" class="anchor-marker"></span><h4 class="name">getListingImage</h4><div class="body"><code class="signature">function <strong>getListingImage</strong><span>(uint _id) </span><span>public </span><span>view </span><span>returns  (string) </span></code><hr/><div class="description"><p>Returns the image reference of a given listing.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_id</code> - The id of listing to retrieve the image reference of</div></dd><dt><span class="label-return">Returns:</span></dt><dd>Image reference</dd></dl></div></div></li><li><div class="item function"><span id="getListingPrice" class="anchor-marker"></span><h4 class="name">getListingPrice</h4><div class="body"><code class="signature">function <strong>getListingPrice</strong><span>(uint _id) </span><span>public </span><span>view </span><span>returns  (uint) </span></code><hr/><div class="description"><p>Returns the selling price of a given listing in Wei (smallest denomination of Ether).</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_id</code> - The id of listing to retrieve selling price of</div></dd><dt><span class="label-return">Returns:</span></dt><dd>Listing price in Wei</dd></dl></div></div></li><li><div class="item function"><span id="getListingSeller" class="anchor-marker"></span><h4 class="name">getListingSeller</h4><div class="body"><code class="signature">function <strong>getListingSeller</strong><span>(uint _id) </span><span>public </span><span>view </span><span>returns  (address) </span></code><hr/><div class="description"><p>Returns the seller of the listing.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_id</code> - The id of listing to retrieve the state of</div></dd><dt><span class="label-return">Returns:</span></dt><dd>Seller address</dd></dl></div></div></li><li><div class="item function"><span id="getListingState" class="anchor-marker"></span><h4 class="name">getListingState</h4><div class="body"><code class="signature">function <strong>getListingState</strong><span>(uint _id) </span><span>public </span><span>view </span><span>returns  (uint) </span></code><hr/><div class="description"><p>Returns the current state of a listing as an integer.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_id</code> - The id of listing to retrieve the state of</div></dd><dt><span class="label-return">Returns:</span></dt><dd>Listing status</dd></dl></div></div></li><li><div class="item function"><span id="getListingTitle" class="anchor-marker"></span><h4 class="name">getListingTitle</h4><div class="body"><code class="signature">function <strong>getListingTitle</strong><span>(uint _id) </span><span>public </span><span>view </span><span>returns  (string) </span></code><hr/><div class="description"><p>Returns the title of a given listing.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_id</code> - The id of listing to retrieve title of</div></dd><dt><span class="label-return">Returns:</span></dt><dd>Listing title</dd></dl></div></div></li><li><div class="item function"><span id="listingAvailable" class="anchor-marker"></span><h4 class="name">listingAvailable</h4><div class="body"><code class="signature">function <strong>listingAvailable</strong><span>(uint _id) </span><span>public </span></code><hr/><div class="description"><p>Updates the given listing to AVAILABLE status.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_id</code> - The id of listing to make available in marketplace</div></dd></dl></div></div></li><li><div class="item function"><span id="listingSold" class="anchor-marker"></span><h4 class="name">listingSold</h4><div class="body"><code class="signature">function <strong>listingSold</strong><span>(uint _id) </span><span>public </span></code><hr/><div class="description"><p>Updates the given listing to SOLD status.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_id</code> - The id of sold listing</div></dd></dl></div></div></li></ul></div></div></div>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/trade-now-docs/docs/Escrow"><span class="arrow-prev">← </span><span>Escrow</span></a></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/trade-now-docs/" class="nav-home"></a><div><h5>Docs</h5><a href="/trade-now-docs/docs/Market">Market</a><a href="/trade-now-docs/docs/Escrow">Escrow</a><a href="/trade-now-docs/docs/MarketStore">MarketStore</a></div><div><h5>About</h5><a href="/trade-now-docs/en/help.html">About This Project</a></div><div><h5>More</h5><a href="https://github.com/ks510/trade-now">GitHub</a></div></section><section class="copyright">Copyright © 2019 Karen Suen</section></footer></div></body></html>